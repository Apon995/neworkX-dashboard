"use client";
import { ChevronLeft, Menu } from "lucide-react";
import Image from "next/image";
import logo from "@/public/logos/logo-1.png";
import logoutIcon from "@/app/assets/profile/logout.svg";
import Link from "next/link";
import { usePathname } from "next/navigation";
import { useState } from "react";

const overviewIcon = ({ fill = "#625656" }) => (
  <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M11.2507 7.49967V3.33301H16.6673V7.49967H11.2507ZM3.33398 9.99967V3.33301H8.75065V9.99967H3.33398ZM11.2507 16.6663V9.99967H16.6673V16.6663H11.2507ZM3.33398 16.6663V12.4997H8.75065V16.6663H3.33398Z"
      fill={fill}
    />
  </svg>
);

const userRosterIcon = ({ fill = "#625656" }) => (
  <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M1.66602 10.0003C1.66602 5.39783 5.39685 1.66699 9.99935 1.66699C14.6018 1.66699 18.3327 5.39783 18.3327 10.0003C18.3327 14.6028 14.6018 18.3337 9.99935 18.3337C5.39685 18.3337 1.66602 14.6028 1.66602 10.0003ZM9.99935 3.33366C8.23124 3.33366 6.53555 4.03604 5.2853 5.28628C4.03506 6.53652 3.33268 8.23222 3.33268 10.0003C3.33268 11.7684 4.03506 13.4641 5.2853 14.7144C6.53555 15.9646 8.23124 16.667 9.99935 16.667C11.7675 16.667 13.4632 15.9646 14.7134 14.7144C15.9636 13.4641 16.666 11.7684 16.666 10.0003C16.666 8.23222 15.9636 6.53652 14.7134 5.28628C13.4632 4.03604 11.7675 3.33366 9.99935 3.33366Z"
      fill={fill}
    />
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M10.8333 5.83333C10.8333 5.61232 10.7455 5.40036 10.5893 5.24408C10.433 5.0878 10.221 5 10 5C9.77899 5 9.56702 5.0878 9.41074 5.24408C9.25446 5.40036 9.16667 5.61232 9.16667 5.83333V9.16667H5.83333C5.61232 9.16667 5.40036 9.25446 5.24408 9.41074C5.0878 9.56702 5 9.77899 5 10C5 10.221 5.0878 10.433 5.24408 10.5893C5.40036 10.7455 5.61232 10.8333 5.83333 10.8333H9.16667V14.1667C9.16667 14.3877 9.25446 14.5996 9.41074 14.7559C9.56702 14.9122 9.77899 15 10 15C10.221 15 10.433 14.9122 10.5893 14.7559C10.7455 14.5996 10.8333 14.3877 10.8333 14.1667V10.8333H14.1667C14.3877 10.8333 14.5996 10.7455 14.7559 10.5893C14.9122 10.433 15 10.221 15 10C15 9.77899 14.9122 9.56702 14.7559 9.41074C14.5996 9.25446 14.3877 9.16667 14.1667 9.16667H10.8333V5.83333Z"
      fill={fill}
    />
  </svg>
);

const ReportsAndExportsIcon = ({ fill = "#625656" }) => (
  <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M3.84667 16.6673C3.46278 16.6673 3.1425 16.539 2.88583 16.2823C2.62917 16.0257 2.50056 15.7051 2.5 15.3207V7.18065C2.5 6.79676 2.62861 6.47649 2.88583 6.21982C3.14306 5.96315 3.46306 5.83454 3.84583 5.83399H7.5V4.67982C7.5 4.29649 7.62861 3.97621 7.88583 3.71899C8.14306 3.46176 8.46333 3.33343 8.84667 3.33399H11.1542C11.5375 3.33399 11.8578 3.46232 12.115 3.71899C12.3722 3.97565 12.5006 4.29593 12.5 4.67982V5.83399H16.1542C16.5375 5.83399 16.8575 5.9626 17.1142 6.21982C17.3708 6.47704 17.4994 6.79732 17.5 7.18065V15.3215C17.5 15.7048 17.3714 16.0251 17.1142 16.2823C16.8569 16.5395 16.5369 16.6679 16.1542 16.6673H3.84667ZM8.33333 5.83399H11.6667V4.67982C11.6667 4.55204 11.6133 4.43454 11.5067 4.32732C11.4 4.2201 11.2825 4.16676 11.1542 4.16732H8.84583C8.71806 4.16732 8.60056 4.22065 8.49333 4.32732C8.38611 4.43399 8.33278 4.55149 8.33333 4.67982V5.83399ZM16.6667 12.084H11.6667V13.334H8.33333V12.084H3.33333V15.3215C3.33333 15.4493 3.38667 15.5668 3.49333 15.674C3.6 15.7812 3.7175 15.8345 3.84583 15.834H16.1542C16.2819 15.834 16.3994 15.7807 16.5067 15.674C16.6139 15.5673 16.6672 15.4495 16.6667 15.3207V12.084ZM9.16667 12.5007H10.8333V10.834H9.16667V12.5007ZM3.33333 11.2507H8.33333V10.0007H11.6667V11.2507H16.6667V7.18065C16.6667 7.05232 16.6133 6.93454 16.5067 6.82732C16.4 6.7201 16.2825 6.66676 16.1542 6.66732H3.84583C3.71806 6.66732 3.60056 6.72065 3.49333 6.82732C3.38611 6.93399 3.33278 7.05176 3.33333 7.18065V11.2507Z"
      fill={fill}
    />
  </svg>
);
const AuditAndLogsIcon = ({ fill = "#625656" }) => (
  <svg
    width="20"
    height="20"
    viewBox="0 0 20 20"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M2.16406 15.513V14.1405C2.16406 13.7538 2.26406 13.4213 2.46406 13.143C2.66462 12.8652 2.93406 12.643 3.2724 12.4763C3.99517 12.1319 4.71295 11.8574 5.42573 11.653C6.13795 11.4486 6.99517 11.3463 7.9974 11.3463C8.99962 11.3463 9.85712 11.4486 10.5699 11.653C11.2827 11.8574 12.0005 12.1319 12.7232 12.4763C13.061 12.643 13.3302 12.8652 13.5307 13.143C13.7307 13.4213 13.8307 13.7538 13.8307 14.1405V15.513H2.16406ZM15.4974 15.513V14.1022C15.4974 13.6188 15.3996 13.163 15.2041 12.7347C15.0091 12.3058 14.7318 11.938 14.3724 11.6313C14.7818 11.7147 15.1763 11.8302 15.5557 11.978C15.9346 12.1263 16.3096 12.2927 16.6807 12.4772C17.0418 12.6588 17.3249 12.8913 17.5299 13.1747C17.7349 13.458 17.8374 13.7672 17.8374 14.1022V15.513H15.4974ZM7.9974 9.48716C7.31017 9.48716 6.72184 9.24216 6.2324 8.75216C5.74295 8.26216 5.49795 7.67355 5.4974 6.98633C5.49684 6.29911 5.74184 5.71077 6.2324 5.22133C6.72295 4.73188 7.31128 4.48688 7.9974 4.48633C8.68351 4.48577 9.27212 4.73077 9.76323 5.22133C10.2543 5.71188 10.4991 6.30022 10.4974 6.98633C10.4957 7.67244 10.251 8.26133 9.76323 8.753C9.27545 9.24466 8.68684 9.48911 7.9974 9.48633M14.0557 6.98633C14.0557 7.67411 13.8107 8.263 13.3207 8.753C12.8307 9.243 12.2424 9.48744 11.5557 9.48633C11.5202 9.48633 11.4752 9.48244 11.4207 9.47466C11.3663 9.46688 11.3213 9.458 11.2857 9.448C11.5685 9.10244 11.7855 8.71911 11.9366 8.298C12.0882 7.87633 12.1641 7.43855 12.1641 6.98466C12.1641 6.53077 12.0849 6.09744 11.9266 5.68466C11.7682 5.27188 11.5546 4.8855 11.2857 4.5255C11.3307 4.50938 11.3757 4.49883 11.4207 4.49383C11.4657 4.48883 11.5107 4.48633 11.5557 4.48633C12.243 4.48633 12.8313 4.73133 13.3207 5.22133C13.8102 5.71133 14.0552 6.29966 14.0557 6.98633ZM2.9974 14.6797H12.9974V14.1405C12.9974 13.9449 12.9485 13.7741 12.8507 13.628C12.753 13.4819 12.5774 13.3419 12.3241 13.208C11.7024 12.8758 11.0468 12.6213 10.3574 12.4447C9.66795 12.268 8.88128 12.1797 7.9974 12.1797C7.11351 12.1797 6.32656 12.268 5.63656 12.4447C4.94767 12.6213 4.29212 12.8758 3.6699 13.208C3.41712 13.3413 3.24184 13.4813 3.14406 13.628C3.04628 13.7741 2.9974 13.9449 2.9974 14.1405V14.6797ZM7.9974 8.65383C8.45573 8.65383 8.84823 8.4905 9.1749 8.16383C9.50156 7.83716 9.66462 7.44466 9.66406 6.98633C9.66351 6.528 9.50045 6.13577 9.1749 5.80966C8.84934 5.48355 8.45684 5.32022 7.9974 5.31966C7.53795 5.31911 7.14573 5.48244 6.82073 5.80966C6.49573 6.13688 6.3324 6.52911 6.33073 6.98633C6.32906 7.44355 6.4924 7.83605 6.82073 8.16383C7.14906 8.49161 7.54128 8.65466 7.9974 8.653"
      fill={fill}
    />
  </svg>
);

const routes = [
  { id: 1, label: "Overview", icon: overviewIcon, href: "/employe" },
  {
    id: 2,
    label: "Post a Job",
    icon: userRosterIcon,
    href: "/employe/post-jobs",
  },
  {
    id: 3,
    label: "Manage Jobs",
    icon: ReportsAndExportsIcon,
    href: "/employe/manage-jobs",
  },
  {
    id: 4,
    label: "Applicants Hiring",
    icon: AuditAndLogsIcon,
    href: "/employe/application-hiring",
  },
];

export default function SideBar() {
  const [open, setOpen] = useState(false);
  const pathname = usePathname();

  return (
    <>
      {/* mobile nav */}
      <div className="xl:hidden w-full bg-white p-4 flex justify-between items-center shadow">
        <Image src={logo} alt="Logo" className="h-8 w-auto" />
        <button
          onClick={() => setOpen(true)}
          className="text-gray-700 text-lg font-bold"
        >
          <Menu />
        </button>
      </div>

      {/* mobile overlay */}
      {open && (
        <div
          className="fixed inset-0 bg-black/15 z-40 xl:hidden"
          onClick={() => setOpen(false)}
        ></div>
      )}

      {/* large screen side bar tab/pc */}
      <aside
        className={`bg-white lg:p-6 p-4 w-64 xl:w-60 flex flex-col gap-12  xl:static xl:h-auto h-full
           fixed top-0 left-0 z-50 transform transition-transform duration-300 xl:translate-x-0
        ${open ? "translate-x-0" : "-translate-x-full"}`}
      >
        <div className="flex justify-between items-center xl:block relative">
          <Image src={logo} alt="Logo" className="max-w-[80%]" />
          <button
            onClick={() => setOpen(false)}
            className={`xl:hidden text-3xl font-bold rounded-full ${
              open && "absolute md:-right-20 -right-16 bg-white text-black shadow p-2 "
            } `}
          >
            <ChevronLeft />
          </button>
        </div>

        <nav className="flex flex-col gap-2 h-full  w-full">
          {routes.map((item: any) => (
            <Link
              href={item.href}
              key={item.id}
              className={`${
                pathname == item.href
                  ? "bg-[#0B5FFF] text-white"
                  : "text-[#625656] bg-transparent hover:bg-gray-50"
              } p-2 rounded-md flex flex-row items-center gap-2 font-semibold text-base`}
            >
              <item.icon fill={pathname == item.href ? "white" : "#625656"} />
              {item.label}
            </Link>
          ))}
        </nav>
      </aside>
    </>
  );
}
